<!DOCTYPE html>
<!--
This is an example HTML that shows how WebGazer can be used on a website.
This file provides the additional features:
  * An integrated, intuitive and sleek action bar with an informative "help" module accessible at all times
  * Structured 9-point calibration system
  * Accuracy measure of predictions based on calibration process
  * Video feedback regarding face positioning
  * Improved eye predictions visible to the user
Instructions on use can be found in the README repository.
-->
<html>

<head>
  <META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
  <TITLE>WebGazer Demo</TITLE>
  <link rel="stylesheet" type="text/css" href="./css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha256-YLGeXaapI0/5IgZopewRJcFXomhRMlYYjugPLSyNjTY=" crossorigin="anonymous" />

  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

  <script async type="text/javascript" src="./webgazer.js"></script>
  <style>
    #testImage{
      background-image:url('');
      background-size: 100% 100%;
      background-attachment: fixed;
      background-position: center;
      background-repeat: no-repeat;
    }
    i{
      margin-left: 8px;
    }
    .btns button{
      margin-left: 10px;
      padding: 5px 10px !important;
    }

  </style>
</head>

<body LANG="en-US" LINK="#0000ff" DIR="LTR" id="testImage">
<div class="btns d-flex justify-content-end mt-3">

    <button class="btn btn-warning mr-3" id="Accuracy"> Not yet Calibrated</button>
    <button class="btn btn-primary" onclick="Restart()">Recalibrate<i class="fas fa-power-off"></i></button>
    <button class="btn btn-primary" onclick="saveGaze(gazeData)">Save<i class="fas fa-save"></i></button>
    <button class="btn btn-primary" onclick="webgazer.pause()">Pause<i class="fas fa-pause"></i></button>
    <button class="btn btn-primary" onclick="webgazer.resume()">Resume<i class="fas fa-forward"></i></button>
    <input class="btn-sm" type="file" id="backImage" onchange="readURL(this);">

  </div>
  
  <canvas id="plotting_canvas" width="500" height="500" style="cursor:crosshair;"></canvas>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"
    integrity="sha256-KsRuvuRtUVvobe66OFtOQfjP8WA2SzYsmm4VPfMnxms=" crossorigin="anonymous"></script>

  <script src="./js/main.js"></script>
  <script src="./js/calibration.js"></script>
  <script src="./js/precision_calculation.js"></script>
  <script src="./js/precision_store_points.js"></script>


  <!-- <nav class="navbar navbar-light bg-light" id="webgazerNavbar" style="width:5rem;">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item" id="Accuracy">
          <a>Not yet Calibrated</a>
        </li>

        <li class="nav-item" onclick="Restart()">
          <a class="nav-link" href="#">Recalibrate</a>
        </li>

        <li class="nav-item" onclick="saveGaze()">
          <a class="nav-link" href="#">Save</a>
        </li>

        <li class="nav-item">
          <input type='file' onchange="readURL(this);" />
        </li>
      </ul>
    </div>
  </nav> -->

  <!-- Calibration points -->
  <div class="calibrationDiv">
    <input type="button" class="Calibration" id="Pt1"></input>
    <input type="button" class="Calibration" id="Pt2"></input>
    <input type="button" class="Calibration" id="Pt3"></input>
    <input type="button" class="Calibration" id="Pt4"></input>
    <input type="button" class="Calibration" id="Pt5"></input>
    <input type="button" class="Calibration" id="Pt6"></input>
    <input type="button" class="Calibration" id="Pt7"></input>
    <input type="button" class="Calibration" id="Pt8"></input>
    <input type="button" class="Calibration" id="Pt9"></input>
  </div>

  

  <!-- Modal -->
  <div id="helpModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-footer">
          <button id="closeBtn" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="Restart()">Calibrate</button>
        </div>
      </div>

    </div>
  </div>


  <script>  
    document.getElementById('backImage').addEventListener('change', readURL, true);
      function readURL(){
        var file = document.getElementById("backImage").files[0];
        var reader = new FileReader();
        reader.onloadend = function(){
            document.getElementById('testImage').style.backgroundImage = "url(" + reader.result + ")";        
        }
        if(file){
            reader.readAsDataURL(file);
          }else{
          }
      }
  </script>
  <!-- Latest compiled JavaScript -->
  <script src="./js/resize_canvas.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha256-CjSoeELFOcH0/uxWu6mC/Vlrc1AARqbm/jiiImDGV3s=" crossorigin="anonymous"></script>

</body>

</html>
